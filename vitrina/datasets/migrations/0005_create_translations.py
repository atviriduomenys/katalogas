# Generated by Django 3.2.15 on 2022-10-04 06:43
from django.db import migrations, models


def create_translations(apps, schema_editor):
    Dataset = apps.get_model("vitrina_datasets", "Dataset")
    DatasetTranslation = apps.get_model('vitrina_datasets', 'DatasetTranslation')
    print("hi i am here")
    print(Dataset)
    print(DatasetTranslation)
    for object in Dataset.objects.all():
        print('loop')
        print(object.pk)
        print('title lt: ', object.title_old)
        print('description en: ', object.description_old)
        DatasetTranslation.objects.create(
            master_id=object.pk,
            language_code='lt',
            title=object.title_old,
            description=object.description_old
        )
        print('created lt')
        print('en title: ', object.title_en_old)
        print('en description: ', object.description_en_old)
        DatasetTranslation.objects.create(
            master_id=object.pk,
            language_code='en',
            title=object.title_en_old,
            description=object.description_en_old
        )
        print('created en')


class Migration(migrations.Migration):

    dependencies = [
        ('vitrina_datasets', '0004_create_translation_model'),
    ]

    operations = [
        migrations.RunPython(create_translations),
    ]
