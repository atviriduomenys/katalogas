{% load i18n %}

<nav class="category-panel">
    {% if labels %}
        <a href="{% url 'dataset-list' %}?{{ request.GET.urlencode }}">
            <p class="category-panel-heading">
                <strong>&lt;- {% translate "Atgal į rinkinių sąrašą" %}{{ datasetStatus|upper}}</strong>
            </p>
        </a>
    {% endif %}
    <a href="{% url 'dataset-status-stats' %}?{{ request.GET.urlencode }}" id="Dataset-status-stats">
        <p class="category-panel-heading">
            <strong>{% translate "Rinkinio būsena" as datasetStatus %}{{ datasetStatus|upper}}</strong>
        </p>
    </a>
    {% for obj in status_facet|slice:":10" %}
        {% if obj.filter_value == selected_status %}
            <div class="is-flex">
                <span class="category-panel-block" title="{{ obj.display_value }}">
                    <strong>{{ obj.display_value }}</strong>
                </span>
                <div class="stays-right">({{ obj.count }})</div>
            </div>
        {% else %}
            <div class="is-flex">
                <a href="{{ obj.url }}" class="category-panel-block" id="{{ obj.filter_value }}_id">{{ obj.display_value }}</a>
                <div class="stays-right">({{ obj.count }})</div>
            </div>
        {% endif %}
    {% endfor %}
</nav>

<nav class="category-panel">
    <p class="category-panel-heading">
        <strong>{% translate "Organizacija" as orgTitle %} {{orgTitle|upper}}</strong>
    </p>
    {% for obj in organization_facet|slice:":10" %}
        {% if obj.filter_value == selected_organization %}
            <div class="is-flex">
                <span class="category-panel-block" title="{{ obj.display_value }}">
                    <strong>{{ obj.display_value }}</strong>
                </span>
                <div class="stays-right">({{ obj.count }})</div>
            </div>
        {% else %}
            <div class="is-flex">
                <a href="{{ obj.url }}" class="category-panel-block">{{ obj.display_value }}</a>
                <div class="stays-right">({{ obj.count }})</div>
            </div>
        {% endif %}
    {% endfor %}
</nav>

<nav class="category-panel">
    <p class="category-panel-heading">
        <strong>{% translate "Kategorijos" as catTitle %} {{catTitle|upper}}</strong>
    </p>
    {% if selected_parent_category|length < 1 and selected_categories|length < 1 %}
        {% for obj in parent_category_facet|slice:":10" %}
            {% if obj.filter_value in selected_parent_category %}
                <div class="is-flex">
                    <span class="category-panel-block" title="{{ obj.display_value }}">
                        <strong>{{ obj.display_value }}</strong>
                    </span>
                    <div class="stays-right">({{ obj.count }})</div>
                </div>
            {% else %}
                <div class="is-flex">
                    <a href="{{ obj.url }}" class="category-panel-block">{{ obj.display_value }}</a>
                    <div class="stays-right">({{ obj.count }})</div>
                </div>
            {% endif %}
        {% endfor %}
    {% endif %}
    {% if selected_parent_category or selected_categories %}
        {% for obj in category_facet|slice:":10" %}
            {% if obj.filter_value in selected_categories or obj.filter_value in selected_parent_category %}
                <div class="is-flex">
                    <span class="category-panel-block" title="{{ obj.display_value }}">
                        <strong>{{ obj.display_value }}</strong>
                    </span>
                    <div class="stays-right">({{ obj.count }})</div>
                </div>
            {% else %}
                <div class="is-flex">
                    <a href="{{ obj.url }}" class="category-panel-block">{{ obj.display_value }}</a>
                    <div class="stays-right">({{ obj.count }})</div>
                </div>
            {% endif %}
        {% endfor %}
    {% endif %}
</nav>

<nav class="category-panel">
    <p class="category-panel-heading">
        <strong>{% translate "Grupė" as catTitle %} {{catTitle|upper}}</strong>
    </p>
    {% for obj in group_facet|slice:":10" %}
        {% if obj.filter_value in selected_groups %}
            <div class="is-flex">
                <span class="category-panel-block" title="{{ obj.display_value }}">
                    <strong>{{ obj.display_value }}</strong>
                </span>
                <div class="stays-right">({{ obj.count }})</div>
            </div>
        {% else %}
            <div class="is-flex">
                <a href="{{ obj.url }}" class="category-panel-block">{{ obj.display_value }}</a>
                <div class="stays-right">({{ obj.count }})</div>
            </div>
        {% endif %}
    {% endfor %}
</nav>

<nav class="category-panel">
    <p class="category-panel-heading">
        <strong>{% translate "Žymė" as tagTitle %} {{tagTitle|upper}}</strong>
    </p>
     {% for obj in tag_facet|slice:":10" %}
        {% if obj.filter_value in selected_tags %}
            <div class="is-flex">
                <span class="category-panel-block" title="{{ obj.display_value }}">
                    <strong>{{ obj.display_value }}</strong>
                </span>
                <div class="stays-right">({{ obj.count }})</div>
            </div>
        {% else %}
            <div class="is-flex">
                <a href="{{ obj.url }}" class="category-panel-block">{{ obj.display_value }}</a>
                <div class="stays-right">({{ obj.count }})</div>
            </div>
        {% endif %}
    {% endfor %}
</nav>

<nav class="category-panel">
    <p class="category-panel-heading">
        <strong>{% translate "Formatas" as formatTitle %} {{formatTitle|upper}}</strong>
    </p>
    {% for obj in format_facet|slice:":10" %}
        {% if obj.filter_value in selected_formats %}
            <div class="is-flex">
                <span class="category-panel-block" title="{{ obj.display_value }}">
                    <strong>{{ obj.display_value }}</strong>
                </span>
                <div class="stays-right">({{ obj.count }})</div>
            </div>
        {% else %}
            <div class="is-flex">
                <a href="{{ obj.url }}" class="category-panel-block">{{ obj.display_value }}</a>
                <div class="stays-right">({{ obj.count }})</div>
            </div>
        {% endif %}
    {% endfor %}
</nav>

<nav class="category-panel">
    <p class="category-panel-heading">
        <strong>{% translate "Atnaujinama" as freqTitle %} {{freqTitle|upper}}</strong>
    </p>
    {% for obj in frequency_facet|slice:":10" %}
        {% if obj.filter_value == selected_frequency %}
            <div class="is-flex">
                <span class="category-panel-block" title="{{ obj.display_value }}">
                    <strong>{{ obj.display_value }}</strong>
                </span>
                <div class="stays-right">({{ obj.count }})</div>
            </div>
        {% else %}
            <div class="is-flex">
                <a href="{{ obj.url }}" class="category-panel-block">{{ obj.display_value }}</a>
                <div class="stays-right">({{ obj.count }})</div>
            </div>
        {% endif %}
    {% endfor %}
</nav>

<nav class="category-panel">
    <p class="category-panel-heading">
        <strong>{% translate "Įkėlimo data" as dateTitle %}{{ dateTitle|upper}}</strong>
    </p>
    <div class="field">
        {% if selected_date_from %}
            <input type="date" class="input date_from" name="date_from" id="from" value="{{ selected_date_from|stringformat:'s' }}"
                   placeholder="{% translate 'Data nuo' %}">
        {% else %}
            <input type="date" class="input date_from" name="date_from" id="from"
                   placeholder="{% translate 'Data nuo' %}">
        {% endif %}
    </div>
    <div class="field">
        {% if selected_date_to %}
            <input type="date" class="input date_to" name="date_to" id="to" value="{{ selected_date_to|stringformat:'s' }}"
                   placeholder="{% translate 'Data iki' %}">
        {% else %}
            <input type="date" class="input date_to" name="date_to" id="to"
                   placeholder="{% translate 'Data iki' %}">
        {% endif %}
    </div>
</nav>